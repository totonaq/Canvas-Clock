!function(){"use strict";let e,t,r,i,o,a,l,n,s={diam:300,bgColor:"#fff",borderWidth:3,borderColor:"#000",centerDiam:6,centerColor:"#000",strokes:!0,strokeMd:!0,strokeSm:!0,strokeLgWidth:3,strokeMdWidth:2,strokeSmWidth:1,strokeLgLength:20,strokeMdLength:14,strokeSmLength:8,strokeOffset:40,strokeColor:"#000",numerals:"arabic",numeralColor:"#000",numeralOffset:20,font:"normal 16px Arial",arrowHWidth:3,arrowHLength:80,arrowMWidth:2,arrowMLength:100,arrowSWidth:1,arrowSLength:120,arrowColor:"#000",enableSecArrow:!0,tailLength:15,timeLabel:!1,labelFont:"Arial",labelFontSize:16,labelFontWeight:"300",labelColor:"#000",showDigitSec:!1,timeZone:!1,dayLightSavingTime:!1},h=[],d=[],m=[],g=[],c=[],f=[],w=[];function u(e){return Math.cos(e*Math.PI/180)}function k(e){return Math.sin(e*Math.PI/180)}function S(e,t,r,i,o,a){let l;for(let n=t;n<=r;n++)new Date(e,i,n,o).getDay()===a&&(l=Date.UTC(e,i,n,o));return l}let b={init(){this.createCanvas(),this.drawCircle(),this.drawStrokes(),this.drawNumerals(),this.setTimeZone(),this.setDayLightSavingTime()},createCanvas(){o=t.diam>100?t.diam:100;const r=document.createElement("canvas");let i,a,l,s=t.diam,d=parseInt(t.labelFontSize);e.innerHTML="<canvas width='"+o+"' height='"+o+"'></canvas><canvas width='"+o+"' height='"+o+"'></canvas>",e.style.position="relative",e.style.width=o+"px";let c=e.querySelector("canvas"),f=c.nextSibling;t.timeLabel&&(r.width=s,r.height=d,e.appendChild(r),(i=f.nextSibling).id="time-label-"+h.length),f.style.position="absolute",f.style.top=0,f.style.left=0,c.id="clock-face-"+h.length,f.id="clock-arrows-"+h.length,a=i?i.getContext("2d"):null,n=c.getContext("2d"),l=f.getContext("2d"),m.push(l),g.push(a)},drawCircle(){a=o/2,n.beginPath(),n.strokeStyle=t.borderColor,"number"==typeof t.borderWidth&&t.borderWidth>0?(l=t.borderWidth,n.arc(a,a,a-l,0,2*Math.PI),n.lineWidth=l,n.fillStyle=t.bgColor,n.fill(),n.stroke()):(l=0,n.arc(a,a,a,0,2*Math.PI),n.fillStyle=t.bgColor,n.fill())},drawStrokes(){let e=t.strokeLgLength,r=t.strokeMdLength,i=t.strokeSmLength;if(t.strokes)for(let o=0;o<360;o+=6){let s,h,d=u(o)*(a-1.5*l-t.strokeOffset)+a,m=k(o)*(a-1.5*l-t.strokeOffset)+a;n.beginPath(),n.strokeStyle=t.strokeColor,o%90==0?(s=u(o)*(a-e-1.5*l-t.strokeOffset)+a,h=k(o)*(a-e-1.5*l-t.strokeOffset)+a,n.moveTo(d,m),n.lineWidth=t.strokeLgWidth,n.lineTo(s,h)):o%30==0&&t.strokeMd?(s=u(o)*(a-r-1.5*l-t.strokeOffset)+a,h=k(o)*(a-r-1.5*l-t.strokeOffset)+a,n.moveTo(d,m),n.lineWidth=t.strokeMdWidth,n.lineTo(s,h)):t.strokeSm&&(s=u(o)*(a-i-1.5*l-t.strokeOffset)+a,h=k(o)*(a-i-1.5*l-t.strokeOffset)+a,n.moveTo(d,m),n.lineWidth=t.strokeSmWidth,n.lineTo(s,h)),n.stroke()}},drawNumerals(){if(t.numerals){n.beginPath();const e=[3,4,5,6,7,8,9,10,11,12,1,2],r=["III","IV","V","VI","VII","VIII","IX","X","XI","XII","I","II"];let i;for(let o=0;o<360;o+=30){let s=u(o)*(a-1.5*l-t.numeralOffset)+a,h=k(o)*(a-1.5*l-t.numeralOffset)+a;n.textAlign="center",n.textBaseline="middle",n.font=t.font,i="roman"===t.numerals?r:e,n.fillStyle=t.numeralColor,n.fillText(i[o/30],s,h)}}},setTimeZone(){let e,r=0,i=0;t.timeZone&&"current"!==t.timeZone?(e=t.timeZone.split(":"),!isNaN(e[0])&&!isNaN(e[1])&&e[0]<=14&&e[0]>=-12&&(0==e[1]||30==e[1]||45==e[1])?(i=Number(e[0]),r="-"===t.timeZone[0]?-Number(e[1]):Number(e[1])):(i=0,r=0)):(i=0,r=0),c.push(i),f.push(r)},setDayLightSavingTime(){const e=(new Date).getUTCFullYear(),r=Date.now(),i=S(e,25,31,2,1,0),o=S(e,25,31,9,1,0),a=S(e,8,14,2,2,0),l=S(e,1,7,10,2,0),n=S(e,1,7,9,7,5),s=S(e,1,7,3,1,5);let h=0;t.dayLightSavingTime?"EU"===t.dayLightSavingTime?h=r>=i&&r<=o?1:0:"NA"===t.dayLightSavingTime?h=r>=a&&r<=l?1:0:("AUS"===t.dayLightSavingTime&&r>=n||r<=s)&&(h=r>=n||r<=s?1:10):h=0,w.push(h)},getTime(){let e=new Date,t=e.getUTCSeconds(),o=6*t;d.forEach((a,l)=>{let n=a.diam/2,s="current"===a.timeZone?e.getMinutes():e.getUTCMinutes(),h="current"===a.timeZone?e.getHours():e.getUTCHours();r=s+f[l],i=h+c[l]+w[l],b.sanitizeHourMin();let d=6*r,S=30*i+d/12;m[l].clearRect(0,0,a.diam,a.diam);let L=n+k(S)*a.arrowHLength,T=n-u(S)*a.arrowHLength;b.drawArrow(L,T,a.arrowHWidth,a,m[l]);let C=n+k(d)*a.arrowMLength,y=n-u(d)*a.arrowMLength;if(b.drawArrow(C,y,a.arrowMWidth,a,m[l]),a.enableSecArrow){let e=n+k(o)*a.arrowSLength,t=n-u(o)*a.arrowSLength,r={xtail:n-k(o)*a.tailLength,ytail:n+u(o)*a.tailLength};b.drawArrow(e,t,a.arrowSWidth,a,m[l],r)}b.drawTimeLabel(i,r,t,a,g[l]),b.drawClockCenter(a,m[l])}),window.requestAnimationFrame(b.getTime)},drawArrow(e,t,r,i,o,a){o.beginPath(),o.lineWidth=r,o.moveTo(i.diam/2,i.diam/2),o.lineTo(e,t),a&&(o.moveTo(i.diam/2,i.diam/2),o.lineTo(a.xtail,a.ytail)),o.strokeStyle=i.arrowColor,o.stroke(),o.closePath()},drawClockCenter(e,t){t.beginPath(),t.arc(e.diam/2,e.diam/2,e.centerDiam,0,2*Math.PI),t.fillStyle=e.centerColor,t.fill()},sanitizeHourMin(){r<0?(r+=60,i--):r>59&&(r-=60,i++),i<0?i+=24:i>23&&(i-=24)},drawTimeLabel(e,t,r,i,o){if(o){t=t<10?"0"+t:t,r=r<10?"0"+r:r;let a=i.labelFontSize,l=parseInt(i.labelFontSize),n=i.diam/2,s=l/2;o.beginPath(),o.font=i.labelFontWeight+" "+a+" "+i.labelFont,o.clearRect(0,0,i.diam,l),o.textAlign="center",o.textBaseline="middle",i.showDigitSec?o.fillText(e+":"+t+":"+r,n,s):o.fillText(e+":"+t,n,s),o.fillStyle=i.labelColor}}};window.setclock=((r,i)=>{e=document.querySelector(r),t=Object.assign({},s,i),h.push(r),d.push(t),b.init(),b.getTime()})}();